IF object_id(N'[dbo].[FK_dbo.AspNetUserRoles_dbo.AspNetRoles_RoleId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[AspNetUserRoles] DROP CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetRoles_RoleId]
IF object_id(N'[dbo].[FK_dbo.AspNetUserClaims_dbo.AspNetUsers_UserId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[AspNetUserClaims] DROP CONSTRAINT [FK_dbo.AspNetUserClaims_dbo.AspNetUsers_UserId]
IF object_id(N'[dbo].[FK_dbo.AspNetUserLogins_dbo.AspNetUsers_UserId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[AspNetUserLogins] DROP CONSTRAINT [FK_dbo.AspNetUserLogins_dbo.AspNetUsers_UserId]
IF object_id(N'[dbo].[FK_dbo.AspNetUserRoles_dbo.AspNetUsers_UserId]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[AspNetUserRoles] DROP CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetUsers_UserId]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_UserId' AND object_id = object_id(N'[dbo].[AspNetUserRoles]', N'U'))
    DROP INDEX [IX_UserId] ON [dbo].[AspNetUserRoles]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_RoleId' AND object_id = object_id(N'[dbo].[AspNetUserRoles]', N'U'))
    DROP INDEX [IX_RoleId] ON [dbo].[AspNetUserRoles]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_UserId' AND object_id = object_id(N'[dbo].[AspNetUserClaims]', N'U'))
    DROP INDEX [IX_UserId] ON [dbo].[AspNetUserClaims]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_UserId' AND object_id = object_id(N'[dbo].[AspNetUserLogins]', N'U'))
    DROP INDEX [IX_UserId] ON [dbo].[AspNetUserLogins]
ALTER TABLE [dbo].[AspNetRoles] DROP CONSTRAINT [PK_dbo.AspNetRoles]
ALTER TABLE [dbo].[AspNetUserRoles] DROP CONSTRAINT [PK_dbo.AspNetUserRoles]
ALTER TABLE [dbo].[AspNetUsers] DROP CONSTRAINT [PK_dbo.AspNetUsers]
ALTER TABLE [dbo].[AspNetUserLogins] DROP CONSTRAINT [PK_dbo.AspNetUserLogins]
ALTER TABLE [dbo].[AspNetRoles] ALTER COLUMN [Id] [int] NOT NULL
ALTER TABLE [dbo].[AspNetRoles] ALTER COLUMN [IsApproval] [bit] NOT NULL
ALTER TABLE [dbo].[AspNetRoles] ALTER COLUMN [Category] [int] NOT NULL
ALTER TABLE [dbo].[AspNetUserRoles] ALTER COLUMN [UserId] [int] NOT NULL
ALTER TABLE [dbo].[AspNetUserRoles] ALTER COLUMN [RoleId] [int] NOT NULL
ALTER TABLE [dbo].[AspNetUsers] ALTER COLUMN [Id] [int] NOT NULL
ALTER TABLE [dbo].[AspNetUserClaims] ALTER COLUMN [UserId] [int] NOT NULL
ALTER TABLE [dbo].[AspNetUserLogins] ALTER COLUMN [UserId] [int] NOT NULL
ALTER TABLE [dbo].[AspNetRoles] ADD CONSTRAINT [PK_dbo.AspNetRoles] PRIMARY KEY ([Id])
ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [PK_dbo.AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId])
ALTER TABLE [dbo].[AspNetUsers] ADD CONSTRAINT [PK_dbo.AspNetUsers] PRIMARY KEY ([Id])
ALTER TABLE [dbo].[AspNetUserLogins] ADD CONSTRAINT [PK_dbo.AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey], [UserId])
CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserRoles]([UserId])
CREATE INDEX [IX_RoleId] ON [dbo].[AspNetUserRoles]([RoleId])
CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserClaims]([UserId])
CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserLogins]([UserId])
ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [dbo].[AspNetRoles] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[AspNetUserClaims] ADD CONSTRAINT [FK_dbo.AspNetUserClaims_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[AspNetUserLogins] ADD CONSTRAINT [FK_dbo.AspNetUserLogins_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.AspNetRoles')
AND col_name(parent_object_id, parent_column_id) = 'Discriminator';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[AspNetRoles] DROP CONSTRAINT [' + @var0 + ']')
ALTER TABLE [dbo].[AspNetRoles] DROP COLUMN [Discriminator]
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201604171415579_AutomaticMigration', N'IdentityModels.Migrations.Configuration',  0x1F8B0800000000000400ED5CDD6EEC3410BE47E21DA25C012A4DDB2310545B50D9B65071FAA36E8BB83BF226DE6D44E284D8E9698578322E78245E8171E2649DC44E9C4DBABB4508099DF5CF37E3F1D833763EF79FBFFE9E7CFF1C06D6134EA81F9113FB70FFC0B6307123CF27CB133B658B2FBFB1BFFFEED34F26E75EF86CFD52B47BC7DB414F424FEC47C6E263C7A1EE230E11DD0F7D378968B460FB6E143AC88B9CA383836F9DC3430703840D589635B94B09F3439CFD809FD388B83866290AAE220F07549443CD2C43B5AE5188698C5C7C624FD3399EA3849CDFDDEEE7AD6DEB34F0116832C3C1C2B6102111430CF43C7EA078C692882C673114A0E0FE25C6D06E81028A85FEC7ABE6A6433938E24371561D0B2837A52C0A7B021EBE13B671EADDD7B2B05DDA0EAC770E56662F7CD499054FECD3380E7C3743BF8B02B0415DE6F13448787B959DF76BBDF7AC4B0F6712F2FABDD23FC08DF87F7BD6340D589AE013825396A060CFBA4DE700F1337EB98F7EC3E484A441206B0C3A435DA5008A6E9328C6097BB9C30B318E4BCFB69C6A3FA7DEB1EC26F5C9877649D8BB23DBBA06E1681EE0D2212433CC5894E01F31C10962D8BB458CE184708C7CC00DE97559146C95444F282864FE1081C51051486D479A82FC6594BC74E9DE8E32F319BE42F14352EA03EB0296B86D5DA1E7F7982CD9232CFE0358D417FE33F68A1281FD407CD811A0134BD24E51FCFF2D428EBEFADA4848D700AFD193BFCCE6AA261FD67C025BC21D0EB25AFAE8C7F9CE5077DF0FA2E5451285FC776375E40D3ECCA23471F990A2B656F7285962565573E2AC16A0E9B2E468C3966681B0C5E5C955682E516553AEE93AABB91031645514B2CD31D69DD161B3F9FF46AB95751E22BF6D4F33DD6E0CA44092B2F093107B43B7F45B44E9C728F17E42F4B14575F8E708AACFB09B2660C8194361FCEAD26E1F2382AFD370CE5D7E73B2469B9AFB8FD10572C125CF09EF3518EF7DE4FE16A5EC9C7867E0DE0FCC2D00F9CF7B3F340718459D53D7C5945E8033636F1A410E3E6CFFE47BD3B6C3FD34407ED819EFB9A61F8AA6CA802FB5688BF8723355C86F53F57DB4F48999AA4553BDAA798B4E5545B3BEAA7230334D454BBDA259834E3DF356632651D9240D8BBB19C4FFC1B775FD0FCDC1321B7380578F1799A45F50908E2D6A5D0FCDD6E6300FCD20B6E8A1997C287EF23D1EF10DF2FDA231C01BB5571F25BAD7414D33FDA1F7E89B5102543D399187B969E1FDD7A5CE854F298D5C3F7337F50D92384457D58174C7323A51E776519CCDC14AE0B13E2F03ADC05076DD536EC8190E30C3D6A99B5FB54D117591D7B40D8CCCEBA75E1185D4EAAD0EE85515BF68480627C6095F98889F1D282C3C9FB0A6C7FBC4F563149858ACD6D9306870239462EA356738C6846F1F26263191AF3ED0731D4A51B509EAB2D3C491DCD0D83BE594CF60FE95F99FD60136EF9FAAC453AF9F487E5EDB431546DBAC8B2AAC62A280F67E6A1B3E2A727D531FA827FEBBE6A3B513875E3F91FE6CC447AB46DB828F56ADF2E67C343FE599BA40EDC8B76B1E5A3D6B6E3BCA372DB605F7AC9864C7BC33CF4CA10F831E38697AE8D99C57E267A6384B819EE2384545325DF7120E3EC3AC7AF1B1CA8675F9A9D38EA370A50ED895C775408BCF565D587D552C6EC7BA70456AD10FBCB8CFEA021731A1062E39865282FC354F6ADBFAD9AFEEB7A6679672A0A5AF349680E9F9428252BB4B7D8FABDAA19F8D2A37A0AD46D226CE7D5267696C6262CCCCA44A73F5762AC633BAA10A7FED36942A7BEB93BF0D32542DD7D21BAA18CFE886129EDA6D274506D123871864A56ABC1F6FD515972665682AEB264ECE5B1205134743709A5CA138F6C952223C89126B26D84E5FCEFAD380C21CC371A9820D546A5B4A62518296B8560BA241D30B3FA1EC0C313447FCCA68EA858D66CA40AC090E854839D636E7B10811456BFE6F7185DBC94952242F02E6020619F20C28BBF4567B811AC1E2343414A04471D53E8D823424FA9CACA5B74411AAA048E5E6682B9A908CB52A354792A94232965C6E8E967F1E9471F29226C2C4A94D5423B36C7846E308507533232754EE01E3F96499D50DF24B3D8ACEEE457E2E5B5E97B3EB518ABB3C194577BFB7B519D4E57343A66CF8746D6A1B110418194014F5C49038140D30A9CE1CB54A739131AB353DB6A62A97A5B23B55AB7A682933562A4ACA156BE1692CAA6E612EA1C95191D19BB5E6C80AB68A0CADA85E035BA173BDCE1C554168918115D5E6D82B764B7D13DDED10A63DBA0DD910F353FFE05D5103F33A5BE338315022285452AB55714F2C4141688089F25D752BED4177885BE5F73D83DD4A03A3DF8B2ADC80EA56D44A68D063563EF857B6FB36C2831EAF9FF3BEAA8B34CEB9F526A5F4F2BC5B3BD74EC419D3E0754FFDD09937B1ADC28C10EA5F28C3E13E6FB03FFB3D98063EE61B7BD1E00A117F8129CB892DF6D1C1E151ED81D0EE3CD67128F502C519BDE5C54E75DA364023F3B9713B89623D192ACDF731739F0D7E1B93A93AF8650C794289FB8892E6DB981574DF87302BCCC6178A4BE2E1E713FB8FACD7717685C5FF9515EF5997F481F8BFA750710F22AD3F9BE4DA5779AFB0AEAB6DFCE14736E55D36BDFCF543DE6BCFBA49608B38B60EB82507BD1631159CF7EA2178ED2726FF8D9DA1F2A043B9146B5EBFFEFB8D75B61CD5DB8D42CBCF42F4FC795FD594EF3306212ADE608C85378A09756F2CD6C1D2BEAFF0E027CBDE57F41BACFABDC53AAA69DF5AAC13A5EA2F2DCCE349D173BBF14471EE7BB33BD4D60250832A3F685937E9F03DE08651DED7F08337463457E7909CED3D9C473E1AF6861C7943DCF2DDA293AFD83CDBE69769BE3EBD36A5CC58EC1BE68BEF1EB75190B3768218BE05A7D3DD52EF38BBB61F037CF7BC4EB0F67682EABD05AFD35D62EFB8D7F5E274EF9ED3ED4674DD92CB1947D7ADF3B49B2C32CDC727CD7DB701153BFF440067FE79040E91E7A1A734BEC64CCDE833E06A9B52B5F5A2F584C20EF126CCEE76B1BD458AA4C090F9DD2E5C43C935E1871BD3C3DB35D0705DB74A22D7D14E5584FFEE4DAF8324F69678E36D83E963988A0BEB99076F89293E96692A6B4BFFF5FCED70C3C732CCC88BA9071DBCF9391CE2AEF4273121FC537FB982E07F209360B71271CB369764111581BFA651D1A476F1738519F2201C9F26CC5F20974135BFABCEFE3A417623C8BF98CCB177496E5216A70C868CC37950B947E309449BFC8CF35ED5797213F35F748C21809A3EBFE3BF213FA47EE0957A5F28EE9F34103C3311D7C27C2E19BF1E5EBE9448D711310412E62B13AA7B1CC60180D11B32434F781DDDC0FDDEE325725F56178B3A90EE89A89A7D72E6A36582422A3056FDE127F8B0173E7FF72F0795F80919560000 , N'6.1.3-40302')

